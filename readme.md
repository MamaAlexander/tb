# Торговый бот

**Индекс среднего направленного движения (ADX)** - индикатор наличия тренда (Показатель силы тренда. Значения выше 25 обычно указывают на наличие тренда, в то время как значения ниже 20 указывают на боковик.)

**Полосы Боллинджера:** Сужение полос указывает на низкую волатильность и возможный боковик, расширение полос - на повышение волатильности и начало тренда.

**Индекс относительной силы (RSI):** Значения RSI между 30 и 70 часто указывают на боковик, тогда как значения выше 70 или ниже 30 могут указывать на тренд.

В тренде использовать тресковые индексы, в боковике - осцилляторы

Следует оценивать как то интенсивность тренда 

## Cтатистические методы оценки интенсивности тренда на временных рядах

### Восходящий тренд
* Цена находится выше 50-дневной и 200-дневной EMA.
* Скользящие средние направлены вверх.
* ADX выше 25.
* Полосы Боллинджера расширяются.
* RSI выше 50, но не в зоне перекупленности.
### Боковик
* Цена колеблется вокруг 50-дневной и 200-дневной EMA.
* Скользящие средние движутся горизонтально.
* ADX ниже 20.
* Полосы Боллинджера сужены.
* RSI между 30 и 70.
### Нисходящий тренд
* Цена находится ниже 50-дневной и 200-дневной EMA.
* Скользящие средние направлены вниз.
* ADX выше 25.
* Полосы Боллинджера расширяются.
* RSI ниже 50, но не в зоне перепроданности.


## Полосы Боллинджера
$$SMA = \frac{(P_1 +P_2 +...+P_n)}{n}$$
$Upper Band = SMA+(K×σ)$
$Lower Band = SMA−(K×σ)$ где 
K - коэффициент, обычно равный 2, и 
σ - стандартное отклонение цены за тот же период n, что и SMA.

$$σ = \sqrt{\frac{1}{n} \cdot \sum^n_{i=1}(P_i −SMA)^2}$$
$$BB_{Width} = \frac{Upper Band−Lower Band}{SMA}$$
$$Expansion Index = BB_{width \ t}/BB_{width \ t - 1}$$

Если значение Expansion Index больше 1, то полосы расширяются, если меньше 1 - сужаются.

## Скользящие средние
$$EMA_t = \frac{P_t −EMA_{t−1}}{n+1} + EMA_{t−1}$$
$$EMA_{t-1} = \frac{P_t −SMA_{t−2}}{n+1}+SMA_{t−2}$$
$ΔEMA = EMA_t − EMA_{t−1}$ \
* Если $ΔEMA > 0$: скользящая средняя направлена вверх.
* Если $ΔEMA < 0$: скользящая средняя направлена вниз.
* Если $-\sqrt{abs(ΔEMA)} < ΔEMA < \sqrt{abs(ΔEMA)}$: скользящая средняя горизонтальна. 

где $abs(ΔEMA)$ - стандартное отклонение ΔEMA за 2 торговых дня (следует еще уточнить при шоках на рынке - медианное сглаживание)

## ADX
$+DM_t =High_t − High_{t−1}$ (если положительная и больше чем $Low_{t−1} − Low_t$, иначе 0) 

$-DM_t =Low_{t-1} − Low_t $ (если положительная и больше чем $High_t − High_{t-1}$, иначе 0)

$$TR = max(High_t, \ Close_{t-1}) - min(Low_t, \ Close_{t-1})$$

$+DI = EMA\left(\frac{+DM}{TR}\right)$ \\
$-DI = EMA\left(\frac{-DM}{TR}\right)$

$$ADX = 100 \cdot EMA_{14}\left(\frac{|+DI - (-DI)|}{+DI + (-DI)}\right)$$
